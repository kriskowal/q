!function(a){if("function"==typeof bootstrap)bootstrap("q",a);else if("object"==typeof exports)module.exports=a();else if("function"==typeof define&&define.amd)define(a);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeQ=a}else"undefined"!=typeof window?window.Q=a():global.Q=a()}(function(){return function(a,b,c){function d(c,f){if(!b[c]){if(!a[c]){var g="function"==typeof require&&require;if(!f&&g)return g(c,!0);if(e)return e(c,!0);throw new Error("Cannot find module '"+c+"'")}var h=b[c]={exports:{}};a[c][0].call(h.exports,function(b){var e=a[c][1][b];return d(e?e:b)},h,h.exports)}return b[c].exports}for(var e="function"==typeof require&&require,f=0;f<c.length;f++)d(c[f]);return d}({1:[function(a,b){"use strict";function c(a){var b=Function.call;return function(){return b.apply(a,arguments)}}function d(a){return a===Object(a)}function e(a){return"[object StopIteration]"===ub(a)||a instanceof jb}function f(a,b){if(gb&&b.stack&&"object"==typeof a&&null!==a&&a.stack&&-1===a.stack.indexOf(wb)){for(var c=[],d=b;d;d=d.source)d.stack&&c.unshift(d.stack);c.unshift(a.stack);var e=c.join("\n"+wb+"\n");a.stack=g(e)}}function g(a){for(var b=a.split("\n"),c=[],d=0;d<b.length;++d){var e=b[d];j(e)||h(e)||!e||c.push(e)}return c.join("\n")}function h(a){return-1!==a.indexOf("(module.js:")||-1!==a.indexOf("(node.js:")}function i(a){var b=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(a);if(b)return[b[1],Number(b[2])];var c=/at ([^ ]+):(\d+):(?:\d+)$/.exec(a);if(c)return[c[1],Number(c[2])];var d=/.*@(.+):(\d+)$/.exec(a);return d?[d[1],Number(d[2])]:void 0}function j(a){var b=i(a);if(!b)return!1;var c=b[0],d=b[1];return c===ib&&d>=kb&&Cb>=d}function k(){if(gb)try{throw new Error}catch(a){var b=a.stack.split("\n"),c=b[0].indexOf("@")>0?b[1]:b[2],d=i(c);if(!d)return;return ib=d[0],d[1]}}function l(a,b,c){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(b+" is deprecated, use "+c+" instead.",new Error("").stack),a.apply(a,arguments)}}function m(a){return D(a)}function n(){function a(a){b=a,f.source=a,ob(c,function(b,c){mb(function(){a.promiseDispatch.apply(a,c)})},void 0),c=void 0,d=void 0}var b,c=[],d=[],e=rb(n.prototype),f=rb(p.prototype);if(f.promiseDispatch=function(a,e,f){var g=nb(arguments);c?(c.push(g),"when"===e&&f[1]&&d.push(f[1])):mb(function(){b.promiseDispatch.apply(b,g)})},f.valueOf=l(function(){if(c)return f;var a=q(b);return r(a)&&(b=a),a},"valueOf","inspect"),f.inspect=function(){return b?b.inspect():{state:"pending"}},m.longStackSupport&&gb)try{throw new Error}catch(g){f.stack=g.stack.substring(g.stack.indexOf("\n")+1)}return e.promise=f,e.resolve=function(c){b||a(D(c))},e.fulfill=function(c){b||a(C(c))},e.reject=function(c){b||a(B(c))},e.notify=function(a){b||ob(d,function(b,c){mb(function(){c(a)})},void 0)},e}function o(a){if("function"!=typeof a)throw new TypeError("resolver must be a function.");var b=n();return Q(a,b.resolve,b.reject,b.notify).fail(b.reject),b.promise}function p(a,b,c){void 0===b&&(b=function(a){return B(new Error("Promise does not support operation: "+a))}),void 0===c&&(c=function(){return{state:"unknown"}});var d=rb(p.prototype);if(d.promiseDispatch=function(c,e,f){var g;try{g=a[e]?a[e].apply(d,f):b.call(d,e,f)}catch(h){g=B(h)}c&&c(g)},d.inspect=c,c){var e=c();"rejected"===e.state&&(d.exception=e.reason),d.valueOf=l(function(){var a=c();return"pending"===a.state||"rejected"===a.state?d:a.value})}return d}function q(a){if(r(a)){var b=a.inspect();if("fulfilled"===b.state)return b.value}return a}function r(a){return d(a)&&"function"==typeof a.promiseDispatch&&"function"==typeof a.inspect}function s(a){return d(a)&&"function"==typeof a.then}function t(a){return r(a)&&"pending"===a.inspect().state}function u(a){return!r(a)||"fulfilled"===a.inspect().state}function v(a){return r(a)&&"rejected"===a.inspect().state}function w(){zb||"undefined"==typeof window||window.Touch||!window.console||console.warn("[Q] Unhandled rejection reasons (should be empty):",xb),zb=!0}function x(){for(var a=0;a<xb.length;a++){var b=xb[a];b&&"undefined"!=typeof b.stack?console.warn("Unhandled rejection reason:",b.stack):console.warn("Unhandled rejection reason (no stack):",b)}}function y(){xb.length=0,yb.length=0,zb=!1,Ab||(Ab=!0,"undefined"!=typeof process&&process.on&&process.on("exit",x))}function z(a,b){Ab&&(yb.push(a),xb.push(b),w())}function A(a){if(Ab){var b=pb(yb,a);-1!==b&&(yb.splice(b,1),xb.splice(b,1))}}function B(a){var b=p({when:function(b){return b&&A(this),b?b(a):this}},function(){return this},function(){return{state:"rejected",reason:a}});return z(b,a),b}function C(a){return p({when:function(){return a},get:function(b){return a[b]},set:function(b,c){a[b]=c},"delete":function(b){delete a[b]},post:function(b,c){return null===b||void 0===b?a.apply(void 0,c):a[b].apply(a,c)},apply:function(b,c){return a.apply(b,c)},keys:function(){return tb(a)}},void 0,function(){return{state:"fulfilled",value:a}})}function D(a){return r(a)?a:s(a)?E(a):C(a)}function E(a){var b=n();return mb(function(){try{a.then(b.resolve,b.reject,b.notify)}catch(c){b.reject(c)}}),b.promise}function F(a){return p({isDef:function(){}},function(b,c){return M(a,b,c)},function(){return D(a).inspect()})}function G(a,b,c,d){return m(a).then(b,c,d)}function H(a,b,c){return G(a,function(a){return S(a).then(function(a){return b.apply(void 0,a)},c)},c)}function I(a){return function(){function b(a,b){var g;if(vb){try{g=c[a](b)}catch(h){return B(h)}return g.done?g.value:G(g.value,d,f)}try{g=c[a](b)}catch(h){return e(h)?h.value:B(h)}return G(g,d,f)}var c=a.apply(this,arguments),d=b.bind(b,"send"),f=b.bind(b,"throw");return d()}}function J(a){m.done(m.async(a)())}function K(a){throw new jb(a)}function L(a){return function(){return H([this,S(arguments)],function(b,c){return a.apply(b,c)})}}function M(a,b,c){var d=n();return mb(function(){D(a).promiseDispatch(d.resolve,b,c)}),d.promise}function N(a){return function(b){var c=nb(arguments,1);return M(b,a,c)}}function O(a,b){var c=nb(arguments,2);return Bb(a,b,c)}function P(a,b){return M(a,"apply",[void 0,b])}function Q(a){var b=nb(arguments,1);return P(a,b)}function R(a){var b=nb(arguments,1);return function(){var c=b.concat(nb(arguments));return M(a,"apply",[this,c])}}function S(a){return G(a,function(a){var b=0,c=n();return ob(a,function(d,e,f){var g;r(e)&&"fulfilled"===(g=e.inspect()).state?a[f]=g.value:(++b,G(e,function(d){a[f]=d,0===--b&&c.resolve(a)},c.reject))},void 0),0===b&&c.resolve(a),c.promise})}function T(a){return G(a,function(a){return a=qb(a,D),G(S(qb(a,function(a){return G(a,lb,lb)})),function(){return a})})}function U(a){return G(a,function(a){return S(qb(a,function(b,c){return G(b,function(b){return a[c]={state:"fulfilled",value:b},a[c]},function(b){return a[c]={state:"rejected",reason:b},a[c]})})).thenResolve(a)})}function V(a,b){return G(a,void 0,b)}function W(a,b){return G(a,void 0,void 0,b)}function X(a,b){return G(a,function(a){return G(b(),function(){return a})},function(a){return G(b(),function(){return B(a)})})}function Y(a,b,c,d){var e=function(b){mb(function(){if(f(b,a),!m.onerror)throw b;m.onerror(b)})},g=b||c||d?G(a,b,c,d):a;"object"==typeof process&&process&&process.domain&&(e=process.domain.bind(e)),V(g,e)}function Z(a,b,c){var d=n(),e=setTimeout(function(){d.reject(new Error(c||"Timed out after "+b+" ms"))},b);return G(a,function(a){clearTimeout(e),d.resolve(a)},function(a){clearTimeout(e),d.reject(a)},d.notify),d.promise}function $(a,b){void 0===b&&(b=a,a=void 0);var c=n();return G(a,void 0,void 0,c.notify),setTimeout(function(){c.resolve(a)},b),c.promise}function _(a,b){var c=nb(b),d=n();return c.push(d.makeNodeResolver()),P(a,c).fail(d.reject),d.promise}function ab(a){var b=nb(arguments,1),c=n();return b.push(c.makeNodeResolver()),P(a,b).fail(c.reject),c.promise}function bb(a){var b=nb(arguments,1);return function(){var c=b.concat(nb(arguments)),d=n();return c.push(d.makeNodeResolver()),P(a,c).fail(d.reject),d.promise}}function cb(a,b){var c=nb(arguments,2);return function(){function d(){return a.apply(b,arguments)}var e=c.concat(nb(arguments)),f=n();return e.push(f.makeNodeResolver()),P(d,e).fail(f.reject),f.promise}}function db(a,b,c){var d=nb(c||[]),e=n();return d.push(e.makeNodeResolver()),Bb(a,b,d).fail(e.reject),e.promise}function eb(a,b){var c=nb(arguments,2),d=n();return c.push(d.makeNodeResolver()),Bb(a,b,c).fail(d.reject),d.promise}function fb(a,b){return b?(a.then(function(a){mb(function(){b(null,a)})},function(a){mb(function(){b(a)})}),void 0):a}var gb=!1;try{throw new Error}catch(hb){gb=!!hb.stack}var ib,jb,kb=k(),lb=function(){},mb=function(){function a(){for(;b.next;){b=b.next;var c=b.task;b.task=void 0;var e=b.domain;e&&(b.domain=void 0,e.enter());try{c()}catch(g){if(f)throw e&&e.exit(),setTimeout(a,0),e&&e.enter(),g;setTimeout(function(){throw g},0)}e&&e.exit()}d=!1}var b={task:void 0,next:null},c=b,d=!1,e=void 0,f=!1;if(mb=function(a){c=c.next={task:a,domain:f&&process.domain,next:null},d||(d=!0,e())},"undefined"!=typeof process&&process.nextTick)f=!0,e=function(){process.nextTick(a)};else if("function"==typeof setImmediate)e="undefined"!=typeof window?setImmediate.bind(window,a):function(){setImmediate(a)};else if("undefined"!=typeof MessageChannel){var g=new MessageChannel;g.port1.onmessage=a,e=function(){g.port2.postMessage(0)}}else e=function(){setTimeout(a,0)};return mb}(),nb=c(Array.prototype.slice),ob=c(Array.prototype.reduce||function(a,b){var c=0,d=this.length;if(1===arguments.length)for(;;){if(c in this){b=this[c++];break}if(++c>=d)throw new TypeError}for(;d>c;c++)c in this&&(b=a(b,this[c],c));return b}),pb=c(Array.prototype.indexOf||function(a){for(var b=0;b<this.length;b++)if(this[b]===a)return b;return-1}),qb=c(Array.prototype.map||function(a,b){var c=this,d=[];return ob(c,function(e,f,g){d.push(a.call(b,f,g,c))},void 0),d}),rb=Object.create||function(a){function b(){}return b.prototype=a,new b},sb=c(Object.prototype.hasOwnProperty),tb=Object.keys||function(a){var b=[];for(var c in a)sb(a,c)&&b.push(c);return b},ub=c(Object.prototype.toString);jb="undefined"!=typeof ReturnValue?ReturnValue:function(a){this.value=a};var vb;try{new Function("(function* (){ yield 1; })"),vb=!0}catch(hb){vb=!1}var wb="From previous event:";m.nextTick=mb,m.longStackSupport=!1,m.defer=n,n.prototype.makeNodeResolver=function(){var a=this;return function(b,c){b?a.reject(b):arguments.length>2?a.resolve(nb(arguments,1)):a.resolve(c)}},m.promise=o,m.makePromise=p,p.prototype.then=function(a,b,c){function d(b){try{return"function"==typeof a?a(b):b}catch(c){return B(c)}}function e(a){if("function"==typeof b){f(a,h);try{return b(a)}catch(c){return B(c)}}return B(a)}function g(a){return"function"==typeof c?c(a):a}var h=this,i=n(),j=!1;return mb(function(){h.promiseDispatch(function(a){j||(j=!0,i.resolve(d(a)))},"when",[function(a){j||(j=!0,i.resolve(e(a)))}])}),h.promiseDispatch(void 0,"when",[void 0,function(a){var b,c=!1;try{b=g(a)}catch(d){if(c=!0,!m.onerror)throw d;m.onerror(d)}c||i.notify(b)}]),i.promise},p.prototype.thenResolve=function(a){return G(this,function(){return a})},p.prototype.thenReject=function(a){return G(this,function(){throw a})},ob(["isFulfilled","isRejected","isPending","dispatch","when","spread","get","set","del","delete","post","send","mapply","invoke","mcall","keys","fapply","fcall","fbind","all","allResolved","timeout","delay","catch","finally","fail","fin","progress","done","nfcall","nfapply","nfbind","denodeify","nbind","npost","nsend","nmapply","ninvoke","nmcall","nodeify"],function(a,b){p.prototype[b]=function(){return m[b].apply(m,[this].concat(nb(arguments)))}},void 0),p.prototype.toSource=function(){return this.toString()},p.prototype.toString=function(){return"[object Promise]"},m.nearer=q,m.isPromise=r,m.isPromiseAlike=s,m.isPending=t,m.isFulfilled=u,m.isRejected=v;var xb=[],yb=[],zb=!1,Ab=!0;m.resetUnhandledRejections=y,m.getUnhandledReasons=function(){return xb.slice()},m.stopUnhandledRejectionTracking=function(){y(),"undefined"!=typeof process&&process.on&&process.removeListener("exit",x),Ab=!1},y(),m.reject=B,m.fulfill=C,m.resolve=D,m.master=F,m.when=G,m.spread=H,m.async=I,m.spawn=J,m["return"]=K,m.promised=L,m.dispatch=M,m.dispatcher=N,m.get=N("get"),m.set=N("set"),m["delete"]=m.del=N("delete");var Bb=m.post=N("post");m.mapply=Bb,m.send=O,m.invoke=O,m.mcall=O,m.fapply=P,m["try"]=Q,m.fcall=Q,m.fbind=R,m.keys=N("keys"),m.all=S,m.allResolved=l(T,"allResolved","allSettled"),m.allSettled=U,m["catch"]=m.fail=V,m.progress=W,m["finally"]=m.fin=X,m.done=Y,m.timeout=Z,m.delay=$,m.nfapply=_,m.nfcall=ab,m.nfbind=bb,m.denodeify=m.nfbind,m.nbind=cb,m.npost=db,m.nmapply=db,m.nsend=eb,m.ninvoke=m.nsend,m.nmcall=m.nsend,m.nodeify=fb;var Cb=k();b.exports=m},{}]},{},[1])(1)});